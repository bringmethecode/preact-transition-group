function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var n=t(require("dom-helpers/class/addClass")),i=t(require("dom-helpers/class/removeClass")),e=require("preact"),r="unmounted",s="exited",u="entering",o="entered",h=function(t){function n(n,i){t.call(this,n,i);var e,h=i.transitionGroup,c=h&&!h.isMounting?n.enter:n.appear;this.appearStatus=null,n.in?c?(e=s,this.appearStatus=u):e=o:e=n.unmountOnExit||n.mountOnEnter?r:s,this.state={status:e},this.nextCallback=null}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(t,n){return t.in&&n.status===r?{status:s}:null},n.prototype.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.prototype.componentDidUpdate=function(t){var n=null;if(t!==this.props){var i=this.state.status;this.props.in?i!==u&&i!==o&&(n=u):i!==u&&i!==o||(n="exiting")}this.updateStatus(!1,n)},n.prototype.componentWillUnmount=function(){this.cancelNextCallback()},n.prototype.getTimeouts=function(){var t,n,i,e=this.props.timeout;return t=n=i=e,null!=e&&"number"!=typeof e&&(t=e.exit,n=e.enter,i=e.appear),{exit:t,enter:n,appear:i}},n.prototype.updateStatus=function(t,n){if(void 0===t&&(t=!1),null!==n){this.cancelNextCallback();var i=this.base;n===u?this.performEnter(i,t):this.performExit(i)}else this.props.unmountOnExit&&this.state.status===s&&this.setState({status:r})},n.prototype.performEnter=function(t,n){var i=this,e=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:n,s=this.getTimeouts();n||e?(this.props.onEnter(t,r),this.safeSetState({status:u},function(){i.props.onEntering(t,r),i.onTransitionEnd(t,s.enter,function(){i.safeSetState({status:o},function(){i.props.onEntered(t,r)})})})):this.safeSetState({status:o},function(){i.props.onEntered(t)})},n.prototype.performExit=function(t){var n=this,i=this.props.exit,e=this.getTimeouts();i?(this.props.onExit(t),this.safeSetState({status:"exiting"},function(){n.props.onExiting(t),n.onTransitionEnd(t,e.exit,function(){n.safeSetState({status:s},function(){n.props.onExited(t)})})})):this.safeSetState({status:s},function(){n.props.onExited(t)})},n.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.prototype.safeSetState=function(t,n){n=this.setNextCallback(n),this.setState(t,n)},n.prototype.setNextCallback=function(t){var n=this,i=!0;return this.nextCallback=function(e){i&&(i=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.prototype.onTransitionEnd=function(t,n,i){this.setNextCallback(i),t?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=n&&setTimeout(this.nextCallback,n)):setTimeout(this.nextCallback,0)},n.prototype.render=function(){var t=this.state.status;if(t===r)return null;var n=this.props,i=n.children,s=function(t,n){var i={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&-1===n.indexOf(e)&&(i[e]=t[e]);return i}(n,["children"]);return delete s.in,delete s.mountOnEnter,delete s.unmountOnExit,delete s.appear,delete s.enter,delete s.exit,delete s.timeout,delete s.addEndListener,delete s.onEnter,delete s.onEntering,delete s.onEntered,delete s.onExit,delete s.onExiting,delete s.onExited,"function"==typeof i?i(t,s):e.cloneElement(i[0],s)},n}(e.Component);function c(){}h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var f=function(t,i){return t&&t.setAttribute&&i&&i.split(" ").forEach(function(i){return n(t,i)})},a=function(t,n){return t&&t.setAttribute&&n&&n.split(" ").forEach(function(n){return i(t,n)})},l=function(t){function n(n,i){t.call(this,n,i),this.onEnter=this.onEnter.bind(this),this.onEntering=this.onEntering.bind(this),this.onEntered=this.onEntered.bind(this),this.onExit=this.onExit.bind(this),this.onExiting=this.onExiting.bind(this),this.onExited=this.onExited.bind(this),this.getClassNames=this.getClassNames.bind(this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onEnter=function(t,n){var i=this.getClassNames(n?"appear":"enter").className;this.removeClasses(t,"exit"),f(t,i),this.props.onEnter&&this.props.onEnter(t)},n.prototype.onEntering=function(t,n){var i=this.getClassNames(n?"appear":"enter");this.reflowAndAddClass(t,i.activeClassName),this.props.onEntering&&this.props.onEntering(t)},n.prototype.onEntered=function(t,n){var i=this.getClassNames("enter").doneClassName;this.removeClasses(t,n?"appear":"enter"),f(t,i),this.props.onEntered&&this.props.onEntered(t)},n.prototype.onExit=function(t){var n=this.getClassNames("exit").className;this.removeClasses(t,"appear"),this.removeClasses(t,"enter"),f(t,n),this.props.onExit&&this.props.onExit(t)},n.prototype.onExiting=function(t){var n=this.getClassNames("exit");this.reflowAndAddClass(t,n.activeClassName),this.props.onExiting&&this.props.onExiting(t)},n.prototype.onExited=function(t){var n=this.getClassNames("exit").doneClassName;this.removeClasses(t,"exit"),f(t,n),this.props.onExited&&this.props.onExited(t)},n.prototype.getClassNames=function(t){var n=this.props.classNames,i="string"!=typeof n?n[t]:n+"-"+t;return{className:i,activeClassName:"string"!=typeof n?n[t+"Active"]:i+"-active",doneClassName:"string"!=typeof n?n[t+"Done"]:i+"-done"}},n.prototype.removeClasses=function(t,n){var i=this.getClassNames(n),e=i.className,r=i.activeClassName,s=i.doneClassName;e&&a(t,e),r&&a(t,r),s&&a(t,s)},n.prototype.reflowAndAddClass=function(t,n){n&&f(t,n)},n.prototype.render=function(){var t=Object.assign({},this.props);return delete t.classNames,e.h(h,Object.assign({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(e.Component),d=e.h("a",null).constructor,v=function(t){return t&&t instanceof d};function x(t,n){var i=Object.create(null);return t&&t.forEach(function(t){t&&(i[t.key]=function(t){return n&&v(t)?n(t):t}(t))}),i}function p(t,n,i){return null!=i[n]?i[n]:t.attributes&&t.attributes[n]}function E(t,n,i){var r=x(t.children),s=function(t,n){function i(i){return i in n?n[i]:t[i]}t=t||{},n=n||{};var e,r=Object.create(null),s=[];for(var u in t)u in n?s.length&&(r[u]=s,s=[]):s.push(u);var o={};for(var h in n){if(r[h])for(e=0;e<r[h].length;e++)o[r[h][e]]=i(r[h][e]);o[h]=i(h)}for(e=0;e<s.length;e++)o[s[e]]=i(s[e]);return o}(n,r);return Object.keys(s).forEach(function(u){var o=s[u];if(v(o)){var h=u in n,c=u in r,f=n[u],a=v(f)&&!f.attributes.in;!c||h&&!a?c||!h||a?c&&h&&v(f)&&(s[u]=e.cloneElement(o,{onExited:i.bind(null,o),in:f.attributes.in,exit:p(o,"exit",t),enter:p(o,"enter",t)})):s[u]=e.cloneElement(o,{in:!1}):s[u]=e.cloneElement(o,{onExited:i.bind(null,o),in:!0,exit:p(o,"exit",t),enter:p(o,"enter",t)})}}),s}var b=Object.values||function(t){return Object.keys(t).map(function(n){return t[n]})},O=function(t){function n(n,i){t.call(this,n,i);var e=this.handleExited.bind(this);this.state={handleExited:e,firstRender:!0}}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},n.prototype.componentDidMount=function(){this.appeared=!0},n.getDerivedStateFromProps=function(t,n){var i,r,s=n.children,u=n.handleExited;return{children:n.firstRender?(i=t,r=u,x(i.children,function(t){return e.cloneElement(t,{onExited:r.bind(null,t),in:!0,appear:p(t,"appear",i),enter:p(t,"enter",i),exit:p(t,"exit",i)})})):E(t,s,u),firstRender:!1}},n.prototype.handleExited=function(t,n){var i=x(this.props.children);t.key in i||(t.attributes.onExited&&t.attributes.onExited(n),this.setState(function(n){var i=Object.assign({},n.children);return delete i[t.key],{children:i}}))},n.prototype.render=function(){var t=this.props,n=t.component,i=t.childFactory,r=function(t,n){var i={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&-1===n.indexOf(e)&&(i[e]=t[e]);return i}(t,["component","childFactory"]),s=b(this.state.children).map(i);return delete r.appear,delete r.enter,delete r.exit,null===n?s:e.h(n,r,s)},n}(e.Component);O.defaultProps={component:"div",childFactory:function(t){return t}};var j=function(t){function n(n,i){var e=this;t.call(this,n,i),this.handleEnter=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e.handleLifecycle("onEnter",0,t)},this.handleEntering=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e.handleLifecycle("onEntering",0,t)},this.handleEntered=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e.handleLifecycle("onEntered",0,t)},this.handleExit=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e.handleLifecycle("onExit",1,t)},this.handleExiting=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e.handleLifecycle("onExiting",1,t)},this.handleExited=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e.handleLifecycle("onExited",1,t)}}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.handleLifecycle=function(t,n,i){var e,r=this.props.children[n];r.props[t]&&(e=r.props)[t].apply(e,i),this.props[t]&&this.props[t](this.base)},n.prototype.render=function(){var t=this.props,n=t.children,i=t.in,r=function(t,n){var i={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&-1===n.indexOf(e)&&(i[e]=t[e]);return i}(t,["children","in"]),s=n[0],u=n[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,e.h(O,r,i?e.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):e.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},n}(e.Component);exports.Transition=h,exports.TransitionGroup=O,exports.ReplaceTransition=j,exports.CSSTransition=l;
//# sourceMappingURL=preact-transition-group-v2.js.map
